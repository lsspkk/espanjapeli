/* Base background container */
.animation-background {
	position: fixed;
	top: calc(var(--vertical-position) + var(--character-height) - 2rem);
	left: 0;
	width: 100%;
	height: 2.5rem;
	z-index: 1000;
	opacity: 0;
	transition: opacity 0.5s ease-in-out;
	pointer-events: none;
	/* Soft edge blur effect */
	-webkit-mask-image: linear-gradient(to bottom, 
		transparent 0%, 
		black 15%, 
		black 85%, 
		transparent 100%);
	mask-image: linear-gradient(to bottom, 
		transparent 0%, 
		black 15%, 
		black 85%, 
		transparent 100%);
}

.animation-background.visible {
	opacity: 1;
}

.animation-background.hidden {
	opacity: 0;
}

/* Grass background */
.background-grass {
	background: repeating-linear-gradient(
		to top,
		#7cb342 0px,
		#8bc34a 20px,
		#9ccc65 40px,
		#aed581 60px,
		#7cb342 80px
	);
	background-size: 80px var(--background-height);
}

/* Muddy road background */
.background-muddy-road {
	background: linear-gradient(
		to bottom,
		#8d6e63 0%,
		#795548 30%,
		#7cb342 30%,
		#8bc34a 100%
	);
	background-size: var(--pattern-width) var(--background-height);
}

/* No background */
.background-none {
	background: transparent;
}

/* Character container */
.character-animation {
	position: fixed;
	top: var(--vertical-position);
	left: var(--horizontal-position);
	z-index: 1001;
	transform: scale(var(--character-scale));
	transform-origin: bottom center;
	will-change: transform, left;
	pointer-events: none;
}

/* Mirrored for right-to-left movement */
.character-animation.mirrored {
	transform: scale(var(--character-scale)) scaleX(-1);
}

/* Frame container */
.character-frame {
	height: 5rem;
	display: block;
	width: auto;
}

/* SVG styling */
.character-frame img {
	height: 100%;
	width: auto;
	display: block;
}

/* Fade in animation for background */
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

/* Fade out animation for background */
@keyframes fadeOut {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

/* Horizontal movement (alternative to JS-driven) */
@keyframes moveLeftToRight {
	from {
		left: -10%;
	}
	to {
		left: 110%;
	}
}

@keyframes moveRightToLeft {
	from {
		left: 110%;
	}
	to {
		left: -10%;
	}
}
