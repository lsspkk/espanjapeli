<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Indoor background - warm and cozy -->
  <defs>
    <linearGradient id="indoorWall" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FFF8E1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFECB3;stop-opacity:1" />
    </linearGradient>
    <radialGradient id="lampLight" cx="50%" cy="50%">
      <stop offset="0%" style="stop-color:#FFF9C4;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#FFF9C4;stop-opacity:0" />
    </radialGradient>
  </defs>
  <rect width="400" height="400" fill="url(#indoorWall)"/>
  
  <!-- Large window frame -->
  <rect x="50" y="80" width="300" height="250" fill="#8D6E63" rx="5"/>
  <rect x="60" y="90" width="280" height="230" fill="#CFD8DC" opacity="0.2"/>
  
  <!-- Outside: Dramatic but not frightening bad weather -->
  <!-- Dark gray storm clouds -->
  <ellipse cx="150" cy="120" rx="85" ry="55" fill="#546E7A" opacity="0.95"/>
  <ellipse cx="180" cy="120" rx="75" ry="50" fill="#546E7A" opacity="0.95"/>
  <ellipse cx="210" cy="120" rx="80" ry="52" fill="#546E7A" opacity="0.95"/>
  <ellipse cx="240" cy="120" rx="70" ry="48" fill="#546E7A" opacity="0.95"/>
  
  <!-- Heavy rain falling at angle suggesting wind -->
  <line x1="120" y1="150" x2="115" y2="175" stroke="#64B5F6" stroke-width="3"/>
  <line x1="140" y1="145" x2="135" y2="170" stroke="#64B5F6" stroke-width="3"/>
  <line x1="160" y1="150" x2="155" y2="175" stroke="#64B5F6" stroke-width="3"/>
  <line x1="180" y1="145" x2="175" y2="170" stroke="#64B5F6" stroke-width="3"/>
  <line x1="200" y1="150" x2="195" y2="175" stroke="#64B5F6" stroke-width="3"/>
  <line x1="220" y1="145" x2="215" y2="170" stroke="#64B5F6" stroke-width="3"/>
  <line x1="240" y1="150" x2="235" y2="175" stroke="#64B5F6" stroke-width="3"/>
  <line x1="260" y1="145" x2="255" y2="170" stroke="#64B5F6" stroke-width="3"/>
  <line x1="280" y1="150" x2="275" y2="175" stroke="#64B5F6" stroke-width="3"/>
  <!-- More rain -->
  <line x1="130" y1="180" x2="125" y2="205" stroke="#64B5F6" stroke-width="3"/>
  <line x1="150" y1="175" x2="145" y2="200" stroke="#64B5F6" stroke-width="3"/>
  <line x1="170" y1="180" x2="165" y2="205" stroke="#64B5F6" stroke-width="3"/>
  <line x1="190" y1="175" x2="185" y2="200" stroke="#64B5F6" stroke-width="3"/>
  <line x1="210" y1="180" x2="205" y2="205" stroke="#64B5F6" stroke-width="3"/>
  <line x1="230" y1="175" x2="225" y2="200" stroke="#64B5F6" stroke-width="3"/>
  <line x1="250" y1="180" x2="245" y2="205" stroke="#64B5F6" stroke-width="3"/>
  <line x1="270" y1="175" x2="265" y2="200" stroke="#64B5F6" stroke-width="3"/>
  
  <!-- Leaves and twigs being blown about -->
  <ellipse cx="160" cy="200" rx="10" ry="5" fill="#66BB6A" transform="rotate(45 160 200)"/>
  <ellipse cx="220" cy="210" rx="8" ry="4" fill="#66BB6A" transform="rotate(-30 220 210)"/>
  <ellipse cx="180" cy="220" rx="7" ry="3" fill="#8D6E63" transform="rotate(60 180 220)"/>
  <ellipse cx="240" cy="215" rx="9" ry="4" fill="#66BB6A" transform="rotate(-50 240 215)"/>
  
  <!-- Bent umbrella tumbling past -->
  <path d="M 180 250 Q 190 240 200 250 Q 210 260 220 250" stroke="#E91E63" stroke-width="10" fill="none" stroke-linecap="round"/>
  <line x1="200" y1="250" x2="200" y2="275" stroke="#5D4037" stroke-width="4"/>
  <!-- Umbrella handle bent -->
  <path d="M 200 275 Q 205 280 210 275" stroke="#5D4037" stroke-width="3" fill="none"/>
  
  <!-- Weather vane on distant roof spinning wildly -->
  <rect x="280" y="180" width="35" height="18" fill="#8D6E63"/>
  <line x1="297.5" y1="180" x2="297.5" y2="160" stroke="#757575" stroke-width="3"/>
  <path d="M 297.5 160 L 305 152 L 297.5 144 L 290 152 Z" fill="#FFC107"/>
  <!-- Motion lines showing spinning -->
  <line x1="310" y1="160" x2="318" y2="158" stroke="#BDBDBD" stroke-width="2" opacity="0.7"/>
  <line x1="310" y1="165" x2="318" y2="167" stroke="#BDBDBD" stroke-width="2" opacity="0.7"/>
  <line x1="285" y1="160" x2="277" y2="158" stroke="#BDBDBD" stroke-width="2" opacity="0.7"/>
  <line x1="285" y1="165" x2="277" y2="167" stroke="#BDBDBD" stroke-width="2" opacity="0.7"/>
  
  <!-- Window glass with fog patches (breath on glass) -->
  <ellipse cx="150" cy="150" rx="28" ry="22" fill="white" opacity="0.5"/>
  <ellipse cx="250" cy="160" rx="24" ry="18" fill="white" opacity="0.5"/>
  <ellipse cx="200" cy="180" rx="20" ry="15" fill="white" opacity="0.4"/>
  
  <!-- Peppa pressed against window, looking out -->
  <g transform="translate(150, 280)">
    <!-- Body -->
    <ellipse cx="0" cy="25" rx="26" ry="30" fill="#E63946"/>
    <!-- Legs -->
    <rect x="-18" y="48" width="9" height="30" rx="4" fill="#F9C6CF"/>
    <rect x="9" y="48" width="9" height="30" rx="4" fill="#F9C6CF"/>
    <!-- Head pressed against window -->
    <ellipse cx="0" cy="-30" rx="36" ry="30" fill="#F9C6CF"/>
    <!-- Snout -->
    <ellipse cx="28" cy="-28" rx="14" ry="12" fill="#F9C6CF"/>
    <circle cx="32" cy="-31" r="3" fill="#FF69B4"/>
    <circle cx="32" cy="-25" r="3" fill="#FF69B4"/>
    <!-- Ears -->
    <ellipse cx="-12" cy="-58" rx="8" ry="14" fill="#F9C6CF"/>
    <ellipse cx="12" cy="-58" rx="8" ry="14" fill="#F9C6CF"/>
    <!-- Eyes looking out -->
    <ellipse cx="-4" cy="-32" rx="5" ry="7" fill="white"/>
    <ellipse cx="10" cy="-32" rx="5" ry="7" fill="white"/>
    <circle cx="-3" cy="-31" r="2.5" fill="#333"/>
    <circle cx="11" cy="-31" r="2.5" fill="#333"/>
    <!-- Expression -->
    <path d="M -3 -18 Q 5 -12 13 -18" stroke="#333" stroke-width="2.5" fill="none"/>
    <!-- Trotters on window -->
    <ellipse cx="-20" cy="-5" rx="10" ry="9" fill="#F9C6CF"/>
    <ellipse cx="20" cy="-5" rx="10" ry="9" fill="#F9C6CF"/>
  </g>
  
  <!-- George pressed against window -->
  <g transform="translate(250, 290)">
    <!-- Body -->
    <ellipse cx="0" cy="20" rx="22" ry="26" fill="#E63946"/>
    <!-- Legs -->
    <rect x="-15" y="40" width="8" height="28" rx="4" fill="#F9C6CF"/>
    <rect x="7" y="40" width="8" height="28" rx="4" fill="#F9C6CF"/>
    <!-- Head -->
    <ellipse cx="0" cy="-25" rx="30" ry="26" fill="#F9C6CF"/>
    <!-- Snout -->
    <ellipse cx="24" cy="-23" rx="12" ry="10" fill="#F9C6CF"/>
    <circle cx="28" cy="-26" r="2.5" fill="#FF69B4"/>
    <circle cx="28" cy="-20" r="2.5" fill="#FF69B4"/>
    <!-- Ears -->
    <ellipse cx="-10" cy="-50" rx="6" ry="12" fill="#F9C6CF"/>
    <ellipse cx="10" cy="-50" rx="6" ry="12" fill="#F9C6CF"/>
    <!-- Eyes -->
    <ellipse cx="-3" cy="-28" rx="4" ry="6" fill="white"/>
    <ellipse cx="8" cy="-28" rx="4" ry="6" fill="white"/>
    <circle cx="-2" cy="-27" r="2" fill="#333"/>
    <circle cx="9" cy="-27" r="2" fill="#333"/>
    <!-- Trotters on window -->
    <ellipse cx="-18" cy="-8" rx="8" ry="7" fill="#F9C6CF"/>
    <ellipse cx="18" cy="-8" rx="8" ry="7" fill="#F9C6CF"/>
  </g>
  
  <!-- Hot chocolate mugs on table -->
  <ellipse cx="320" cy="300" rx="28" ry="10" fill="#8D6E63"/>
  <!-- Mug 1 -->
  <rect x="305" y="280" width="16" height="22" rx="2" fill="#5D4037"/>
  <rect x="305" y="280" width="16" height="6" fill="#8D6E63"/>
  <ellipse cx="313" y="280" rx="8" ry="3" fill="#8D6E63"/>
  <!-- Steam from mug 1 -->
  <path d="M 310 275 Q 313 268 310 260" stroke="#E0E0E0" stroke-width="2.5" fill="none" opacity="0.8"/>
  <path d="M 315 275 Q 318 268 315 260" stroke="#E0E0E0" stroke-width="2.5" fill="none" opacity="0.8"/>
  <!-- Mug 2 -->
  <rect x="330" y="280" width="16" height="22" rx="2" fill="#5D4037"/>
  <rect x="330" y="280" width="16" height="6" fill="#8D6E63"/>
  <ellipse cx="338" y="280" rx="8" ry="3" fill="#8D6E63"/>
  <!-- Steam from mug 2 -->
  <path d="M 335 275 Q 338 268 335 260" stroke="#E0E0E0" stroke-width="2.5" fill="none" opacity="0.8"/>
  <path d="M 340 275 Q 343 268 340 260" stroke="#E0E0E0" stroke-width="2.5" fill="none" opacity="0.8"/>
  
  <!-- Cozy blanket -->
  <rect x="280" y="320" width="85" height="55" rx="6" fill="#E91E63" opacity="0.75"/>
  <rect x="285" y="325" width="75" height="45" rx="4" fill="#F06292" opacity="0.85"/>
  <!-- Blanket pattern -->
  <line x1="285" y1="340" x2="360" y2="340" stroke="#C2185B" stroke-width="1" opacity="0.5"/>
  <line x1="285" y1="355" x2="360" y2="355" stroke="#C2185B" stroke-width="1" opacity="0.5"/>
  
  <!-- Soft lamp lighting -->
  <rect x="320" y="200" width="10" height="45" fill="#5D4037"/>
  <ellipse cx="325" y="200" rx="22" ry="10" fill="#FFC107"/>
  <ellipse cx="325" y="200" rx="20" ry="8" fill="#FFF9C4" opacity="0.7"/>
  <!-- Light glow -->
  <ellipse cx="325" cy="225" rx="40" ry="30" fill="url(#lampLight)"/>
  
  <!-- Daddy Pig visible in background reading newspaper, unconcerned -->
  <g transform="translate(320, 250)">
    <!-- Body (simplified, smaller, in background) -->
    <ellipse cx="0" cy="15" rx="20" ry="24" fill="#E63946" opacity="0.9"/>
    <!-- Head -->
    <ellipse cx="0" cy="-22" rx="24" ry="22" fill="#F9C6CF" opacity="0.9"/>
    <!-- Snout -->
    <ellipse cx="20" cy="-20" rx="11" ry="9" fill="#F9C6CF" opacity="0.9"/>
    <!-- Newspaper -->
    <rect x="-28" y="-18" width="35" height="28" fill="white" rx="1" opacity="0.95"/>
    <!-- Newspaper lines -->
    <line x1="-28" y1="-8" x2="7" y2="-8" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="-28" y1="-3" x2="7" y2="-3" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="-28" y1="2" x2="7" y2="2" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="-28" y1="7" x2="7" y2="7" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <!-- Daddy Pig's trotter holding newspaper -->
    <ellipse cx="-30" cy="-5" rx="6" ry="5" fill="#F9C6CF" opacity="0.9"/>
  </g>
</svg>
