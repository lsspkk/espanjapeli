{
  "version": "4.2.0",
  "lastUpdated": "2026-01-14",
  "humanReadable": "TODO.txt",
  "description": "UI/UX Polish Tasks - Mobile-First UI Polish & Finnish Language Consistency",
  "tasks": [
    {
      "id": 20,
      "title": "Navigation Bar Mobile Improvements",
      "todoTxtRef": "TASK 20: Navigation Bar Mobile Improvements (TODO.txt lines 13-43)",
      "priority": 1,
      "status": "completed",
      "estimatedHours": 2.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "20.1",
          "title": "Hide main navigation bar in game modes on mobile",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/shared/Navbar.svelte",
          "testRequired": true
        },
        {
          "id": "20.2",
          "title": "Move 'Kielten oppiminen' link from main page to main menu",
          "status": "completed",
          "deliverable": "svelte/src/routes/+page.svelte",
          "testRequired": true
        },
        {
          "id": "20.3",
          "title": "Replace text glyphs with Svelte icon pack icons in main menu",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/shared/Navbar.svelte",
          "testRequired": true
        },
        {
          "id": "20.4",
          "title": "Check Asetukset & Tietojen vienti in menu, remove from footer if duplicate",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/shared/Navbar.svelte",
          "testRequired": true
        },
        {
          "id": "20.5",
          "title": "Hide Espanjapeli title on mobile mainpage (already in navbar)",
          "status": "completed",
          "deliverable": "svelte/src/routes/+page.svelte",
          "testRequired": true
        },
        {
          "id": "20.6",
          "title": "Test navigation on mobile devices",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        }
      ]
    },
    {
      "id": 21,
      "title": "Finnish Language Consistency & Vocabulary Stats Widget",
      "todoTxtRef": "TASK 21: Finnish Language Consistency & Vocabulary Stats Widget (TODO.txt lines 46-86)",
      "priority": 1,
      "status": "completed",
      "estimatedHours": 3.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "21.1",
          "title": "Review ALL components for English text and replace with Finnish",
          "status": "completed",
          "deliverable": "Multiple component files",
          "testRequired": true
        },
        {
          "id": "21.2",
          "title": "Move Sanastosi widget to menu only",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/shared/VocabularyProgressWidget.svelte",
          "testRequired": true
        },
        {
          "id": "21.3",
          "title": "Fix button text: 'Takaisin valikkoon' â†’ 'Takaisin'",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto/+page.svelte",
          "testRequired": true
        },
        {
          "id": "21.4",
          "title": "Remove glyph icon from main title 'Sanastosi'",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto/+page.svelte",
          "testRequired": true
        },
        {
          "id": "21.5",
          "title": "Add Svelte icon pack icons to statistic cards",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto/+page.svelte",
          "testRequired": true
        },
        {
          "id": "21.6",
          "title": "Create VocabularyWordListDialog.svelte component",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/shared/VocabularyWordListDialog.svelte",
          "testRequired": true
        },
        {
          "id": "21.7",
          "title": "Make word counts clickable (Harjoitellut, Osatut, etc.)",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto/+page.svelte",
          "testRequired": true
        },
        {
          "id": "21.8",
          "title": "Connect clickable counts to word list dialog",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        }
      ]
    },
    {
      "id": 22,
      "title": "Story Mode UI Improvements",
      "todoTxtRef": "TASK 22: Story Mode UI Improvements (TODO.txt lines 89-128)",
      "priority": 1,
      "status": "completed",
      "estimatedHours": 4.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "22.1",
          "title": "Research old question layout from main branch via git",
          "status": "completed",
          "deliverable": null,
          "testRequired": false
        },
        {
          "id": "22.2",
          "title": "Create StoryFilterSort.svelte component",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/story/StoryFilterSort.svelte",
          "testRequired": true
        },
        {
          "id": "22.3",
          "title": "Add filter by difficulty (A1, A2, B1, all)",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        },
        {
          "id": "22.4",
          "title": "Add sort by alphabet and difficulty",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        },
        {
          "id": "22.5",
          "title": "Implement mobile dropdown and desktop button group",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        },
        {
          "id": "22.6",
          "title": "Integrate filter/sort component into story list page",
          "status": "completed",
          "deliverable": "svelte/src/routes/tarinat/+page.svelte",
          "testRequired": true
        },
        {
          "id": "22.7",
          "title": "Restore old two-column question layout",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/basic/stories/StoryQuestion.svelte",
          "testRequired": true
        },
        {
          "id": "22.8",
          "title": "Test story filtering and question layout on mobile and desktop",
          "status": "completed",
          "deliverable": null,
          "testRequired": true
        }
      ]
    },
    {
      "id": 23,
      "title": "DaisyUI Theme Usage Analysis and Fix",
      "todoTxtRef": "TASK 23: DaisyUI Theme Usage Analysis and Fix (TODO.txt lines 133-193)",
      "priority": 2,
      "status": "completed",
      "estimatedHours": 2.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "23.1",
          "title": "Review DaisyUI theme configuration and available themes",
          "status": "completed",
          "deliverable": "svelte/src/lib/stores/theme.ts",
          "testRequired": false
        },
        {
          "id": "23.2",
          "title": "Analyze theme.ts store implementation",
          "status": "completed",
          "deliverable": null,
          "testRequired": false
        },
        {
          "id": "23.3",
          "title": "Check theme application in +layout.svelte",
          "status": "completed",
          "deliverable": "svelte/src/routes/+layout.svelte",
          "testRequired": false
        },
        {
          "id": "23.4",
          "title": "Examine bg-base-* usage across all components",
          "status": "completed",
          "deliverable": null,
          "testRequired": false
        },
        {
          "id": "23.5",
          "title": "Test all 14 available themes visually",
          "status": "completed",
          "deliverable": "svelte/src/lib/stores/theme.test.ts",
          "testRequired": true
        },
        {
          "id": "23.6",
          "title": "Document findings in task-23-theme-usage-report.md",
          "status": "completed",
          "deliverable": "reports/task-23-theme-usage-report.md",
          "testRequired": false
        },
        {
          "id": "23.7",
          "title": "Identify root cause of dark background issue",
          "status": "completed",
          "deliverable": null,
          "testRequired": false
        },
        {
          "id": "23.8",
          "title": "Create fix subtasks based on findings",
          "status": "completed",
          "deliverable": "ai-control/TODO.txt",
          "testRequired": false
        }
      ]
    },
    {
      "id": 24,
      "title": "Kids/Basic Knowledge Separation & Vocabulary Progress Implementation",
      "todoTxtRef": "TASK 24: Kids/Basic Knowledge Separation & Vocabulary Progress Implementation (TODO.txt lines 196-323)",
      "priority": 1,
      "status": "completed",
      "estimatedHours": 10,
      "dependencies": [],
      "subtasks": [
        {
          "id": "24.1",
          "title": "Data Model Analysis & Architecture Design",
          "status": "completed",
          "deliverable": "reports/knowledge-implementation-report.txt",
          "testRequired": false,
          "description": "Analyze current wordKnowledge usage, design kids/basic separation strategy"
        },
        {
          "id": "24.2",
          "title": "Implement Knowledge Separation in Data Layer",
          "status": "completed",
          "deliverable": "svelte/src/lib/stores/wordKnowledge.ts, svelte/src/lib/services/statisticsService.ts",
          "testRequired": true,
          "description": "Update stores and services to support dual tracking with mode parameter"
        },
        {
          "id": "24.3",
          "title": "Integrate Progress Tracking in Games",
          "status": "completed",
          "deliverable": "All game mode components",
          "testRequired": true,
          "description": "Ensure all games record word knowledge correctly with proper mode"
        },
        {
          "id": "24.4",
          "title": "Create Kids Vocabulary Statistics Page (sanasto-kids)",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto-kids/+page.svelte",
          "testRequired": true,
          "description": "Build kids-themed statistics page with encouraging messages"
        },
        {
          "id": "24.5",
          "title": "Create Kids Vocabulary Widget for Front Page",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/kids/KidsVocabularyWidget.svelte",
          "testRequired": true,
          "description": "Build circular bubble widget with kid-friendly design"
        },
        {
          "id": "24.6",
          "title": "Update Front Page with Kids Widget",
          "status": "completed",
          "deliverable": "svelte/src/routes/pipsan-maailma/+page.svelte, svelte/src/routes/pipsan-ystavat/+page.svelte",
          "testRequired": true,
          "description": "Integrate kids widget into kids game pages"
        }
      ]
    },
    {
      "id": 25,
      "title": "Test Performance Analysis & Optimization Planning",
      "todoTxtRef": "TASK 25: Test Performance Analysis & Optimization Planning (TODO.txt lines 327-449)",
      "priority": 2,
      "status": "completed",
      "estimatedHours": 3.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "25.1",
          "title": "Measure Current Test Performance",
          "status": "completed",
          "deliverable": "scripts/measure_test_performance.py, reports/test-performance-baseline.json, reports/test-performance-analysis.md",
          "testRequired": false,
          "description": "Create measurement script and establish baseline metrics"
        },
        {
          "id": "25.2",
          "title": "Analyze Test Implementation Patterns",
          "status": "completed",
          "deliverable": "reports/test-performance-analysis.md",
          "testRequired": false,
          "description": "Review vitest.config.ts and component test patterns for bottlenecks"
        },
        {
          "id": "25.3",
          "title": "Research Vitest Performance Optimization Strategies",
          "status": "completed",
          "deliverable": "reports/test-performance-analysis.md",
          "testRequired": false,
          "description": "Research pool configuration, isolation, happy-dom vs jsdom, etc."
        },
        {
          "id": "25.4",
          "title": "Create Optimization Recommendations",
          "status": "completed",
          "deliverable": "reports/test-performance-analysis.md",
          "testRequired": false,
          "description": "Prioritized list of quick wins, medium effort, and large refactors"
        }
      ]
    },
    {
      "id": 26,
      "title": "Test Performance Optimization Implementation",
      "todoTxtRef": "TASK 26: Test Performance Optimization Implementation (TODO.txt lines 452-597)",
      "priority": 2,
      "status": "completed",
      "estimatedHours": 7,
      "dependencies": [25],
      "subtasks": [
        {
          "id": "26.1",
          "title": "Implement Vitest Configuration Optimizations",
          "status": "completed",
          "deliverable": "svelte/vitest.config.ts, reports/test-performance-after-config.json",
          "testRequired": true,
          "description": "Update config with pool, isolate, maxConcurrency settings"
        },
        {
          "id": "26.2",
          "title": "Optimize Test Environment",
          "status": "completed",
          "deliverable": "svelte/vitest.config.ts, svelte/src/setupTests.ts, reports/test-performance-after-env.json",
          "testRequired": true,
          "description": "Evaluate happy-dom switch and optimize setupTests.ts"
        },
        {
          "id": "26.3",
          "title": "Refactor Slow Test Files",
          "status": "completed",
          "deliverable": "svelte/src/routes/sanasto-kids/sanasto-kids.test.ts, svelte/src/routes/sanasto/sanasto.test.ts, svelte/src/routes/tarinat/tarinat.test.ts, reports/test-performance-after-refactor.json",
          "testRequired": true,
          "description": "Optimize slowest tests with reduced rendering and better mocks"
        },
        {
          "id": "26.4",
          "title": "Organize Test Structure",
          "status": "completed",
          "deliverable": "Test file organization, svelte/package.json",
          "testRequired": true,
          "description": "Separate unit/component/integration tests for better parallelization"
        },
        {
          "id": "26.5",
          "title": "Implement Mock Optimization",
          "status": "completed",
          "deliverable": "svelte/src/tests/mocks/commonMocks.ts, Multiple test files",
          "testRequired": true,
          "description": "Create shared mock factories to reduce recreation overhead"
        },
        {
          "id": "26.6",
          "title": "Final Performance Validation",
          "status": "completed",
          "deliverable": "reports/test-performance-final.json, reports/test-performance-comparison.md",
          "testRequired": true,
          "description": "Measure final performance and generate comparison report"
        }
      ]
    },
    {
      "id": 27,
      "title": "V3 to V4 Data Model Migration Verification",
      "todoTxtRef": "TASK 27: V3 to V4 Data Model Migration Verification (TODO.txt lines 600-816)",
      "priority": 2,
      "status": "completed",
      "estimatedHours": 7,
      "dependencies": [],
      "subtasks": [
        {
          "id": "27.1",
          "title": "Review Current Data Model Documentation",
          "status": "completed",
          "deliverable": "reports/v3-v4-datamodel-changes.md",
          "testRequired": false,
          "description": "Document V3 vs V4 differences and create validation checklist"
        },
        {
          "id": "27.2",
          "title": "Extend Story Data Validation Script",
          "status": "completed",
          "deliverable": "scripts/test_story_data_integrity.py, reports/story-validation-results.txt",
          "testRequired": true,
          "description": "Add tests for V3 legacy fields, V4 structure, vocabulary, dialogue, questions"
        },
        {
          "id": "27.3",
          "title": "Create Frequency Data Validation Script",
          "status": "completed",
          "deliverable": "scripts/validate_frequency_data.py, reports/frequency-validation-results.txt",
          "testRequired": true,
          "description": "Validate frequency JSON structure, ranks, CEFR levels, isTop* flags"
        },
        {
          "id": "27.4",
          "title": "Create Vocabulary Database Validation Script",
          "status": "completed",
          "deliverable": "scripts/validate_vocabulary_database.py, reports/vocabulary-validation-results.txt",
          "testRequired": true,
          "description": "Validate words.ts structure, cross-reference with frequency data"
        },
        {
          "id": "27.5",
          "title": "Create Story-Vocabulary Cross-Reference Validation",
          "status": "completed",
          "deliverable": "scripts/validate_story_vocabulary_crossref.py, reports/story-vocabulary-crossref-results.txt",
          "testRequired": true,
          "description": "Validate story vocabulary against dialogue and main database"
        },
        {
          "id": "27.6",
          "title": "Create Manifest Validation Script",
          "status": "completed",
          "deliverable": "scripts/validate_manifest.py, reports/manifest-validation-results.txt",
          "testRequired": true,
          "description": "Validate manifest sync with story files, check for orphans"
        },
        {
          "id": "27.7",
          "title": "Create Data Consistency Report",
          "status": "completed",
          "deliverable": "scripts/generate_data_consistency_report.py, reports/v4-data-consistency-report.md",
          "testRequired": false,
          "description": "Aggregate all validation results into single report"
        },
        {
          "id": "27.8",
          "title": "Fix Identified Issues",
          "status": "completed",
          "deliverable": "scripts/fix_v4_data_issues.py, 58 story files, manifest.json",
          "testRequired": true,
          "description": "Fix data issues found by validation scripts"
        },
        {
          "id": "27.9",
          "title": "Update Documentation",
          "status": "completed",
          "deliverable": "scripts/validate_all_data.sh, scripts/README.md, ai-control/codebase.md",
          "testRequired": false,
          "description": "Document validation scripts and update codebase documentation"
        }
      ]
    },
    {
      "id": 28,
      "title": "Story Loading Performance Optimization",
      "todoTxtRef": "TASK 28: Story Loading Performance Optimization (TODO.txt lines 818-1055)",
      "priority": 1,
      "status": "completed",
      "estimatedHours": 3.5,
      "dependencies": [],
      "subtasks": [
        {
          "id": "28.1",
          "title": "Analyze Current Loading Behavior",
          "status": "completed",
          "deliverable": "reports/story-loading-analysis.md",
          "testRequired": false,
          "description": "Document network requests, data transfer, time to interactive"
        },
        {
          "id": "28.2",
          "title": "Refactor Story List Page to Use Manifest Only",
          "status": "completed",
          "deliverable": "svelte/src/routes/tarinat/+page.svelte",
          "testRequired": true,
          "description": "Change from loadStories() to getStoryMetadata()"
        },
        {
          "id": "28.3",
          "title": "Update StoryCard Component (if needed)",
          "status": "completed",
          "deliverable": "svelte/src/lib/components/basic/stories/StoryCard.svelte",
          "testRequired": true,
          "description": "Update props to accept StoryMetadata instead of full Story"
        },
        {
          "id": "28.4",
          "title": "Implement On-Demand Story Loading",
          "status": "completed",
          "deliverable": "svelte/src/routes/tarinat/+page.svelte",
          "testRequired": true,
          "description": "Load full story when card is clicked with loading state"
        },
        {
          "id": "28.5",
          "title": "Verify Individual Story Route Still Works",
          "status": "completed",
          "deliverable": "svelte/src/routes/tarinat/[storyId]/+page.ts",
          "testRequired": true,
          "description": "Check individual story route doesn't cause performance issues"
        },
        {
          "id": "28.6",
          "title": "Remove or Update Deprecated loadStories() Function",
          "status": "completed",
          "deliverable": "svelte/src/lib/services/storyLoader.ts",
          "testRequired": false,
          "description": "Check usage and remove or update deprecation notice"
        },
        {
          "id": "28.7",
          "title": "Performance Testing and Validation",
          "status": "completed",
          "deliverable": "scripts/measure_story_loading_performance.py, reports/story-loading-analysis.md",
          "testRequired": true,
          "description": "Measure before/after performance improvements"
        },
        {
          "id": "28.8",
          "title": "Optimize Manifest Loading (Optional Enhancement)",
          "status": "pending",
          "deliverable": "Manifest optimization, caching headers, service worker",
          "testRequired": false,
          "description": "Consider manifest splitting, caching, offline support"
        },
        {
          "id": "28.9",
          "title": "Update Tests",
          "status": "completed",
          "deliverable": "svelte/src/routes/tarinat/tarinat.test.ts, svelte/src/lib/services/storyLoader.test.ts",
          "testRequired": true,
          "description": "Update tests to use getStoryMetadata() and verify lazy loading"
        },
        {
          "id": "28.10",
          "title": "Documentation and Best Practices",
          "status": "pending",
          "deliverable": "ai-control/codebase.md, reports/story-loading-best-practices.md",
          "testRequired": false,
          "description": "Document lazy loading pattern and best practices"
        }
      ]
    }
  ]
}
