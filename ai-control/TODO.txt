================================================================================
ESPANJAPELI - UI/UX FIX LIST
================================================================================

Project: Mobile-First UI Polish & Finnish Language Consistency
Created: January 14, 2026
Priority: HIGH - User Experience Critical

These are small but important fixes to improve the user experience in the
Svelte application. Focus on mobile UX, Finnish language consistency, and
restoring better UI layouts that were lost in V4 updates.

================================================================================
TASK 20: Navigation Bar Mobile Improvements
================================================================================

DESCRIPTION:
Improve mobile navigation by hiding the main navbar in game modes (only show
"Takaisin" button), move the language learning link to main menu, and replace
text glyphs with proper icon images from Svelte icon packs.

OBJECTIVES:
□ Hide main navigation bar in game modes on mobile (only "Takaisin" visible)
□ Move "Kielten oppiminen" link from main page to main menu
□ Replace all text glyphs (emoji) in main menu with Svelte icon pack icons
  - Check installed: lucide-svelte, svelte-icons, or heroicons
  - Use consistent icon style throughout
□ Check that Asetukset & Tietojen vienti is in the main menu, and if it matches to the one that is currently on the footer, remove the link from footer
□ On mobile mainpage dont show Espanjapeli title, because it is already on the main navbar


AFFECTED FILES:
- svelte/src/lib/components/shared/Navbar.svelte
- svelte/src/routes/+page.svelte (main page)
- Game mode layouts (tarinat, yhdista-sanat, etc.)

TECHNICAL APPROACH:
- Add conditional rendering: hide navbar when in game mode on mobile
- Use CSS media queries: @media (max-width: 768px)
- Import icons from installed Svelte icon library
- Update menu items to use <Icon> components instead of emoji

ESTIMATED TIME: 2-3 hours


================================================================================
TASK 21: Finnish Language Consistency & Vocabulary Stats Widget
================================================================================

DESCRIPTION:
Fix language inconsistencies - all UI should be in Finnish, only learning
content in Spanish. Fix the Sanastosi widget issues: move to menu only,
fix button text, make word statistics clickable to show word lists.

OBJECTIVES:
□ Review ALL components for English text - replace with Finnish
  - Check: buttons, labels, error messages, tooltips
  - Document any English found in comments for tracking
  
□ Fix Sanastosi widget issues:
  - Move widget to menu only (remove from main page if present)
  - Change "Takaisin valikkoon" → "Takaisin" on back button
  - Remove glyph icon from main title "Sanastosi"
  - Add Svelte icon pack icons to statistic cards (not glyphs)
  
□ Make word counts clickable:
  - "Harjoitellut", "Osatut", etc. should be clickable
  - Click opens modal/dialog showing word list (sanakirja-style)
  - Dialog shows: word in Spanish, Finnish translation
  - Close button to return to statistics

AFFECTED FILES:
- svelte/src/lib/components/shared/VocabularyProgressWidget.svelte
- svelte/src/routes/sanasto/+page.svelte
- All game mode components (check for English strings)
- Modal component for word list (create if needed)

NEW COMPONENT:
- Create: VocabularyWordListDialog.svelte
  - Props: words[], title, onClose
  - Shows list of words with Spanish + Finnish
  - Scrollable if many words
  - Mobile-friendly touch targets

ESTIMATED TIME: 3-4 hours


================================================================================
TASK 22: Story Mode UI Improvements
================================================================================

DESCRIPTION:
Add filtering/sorting UI for stories, restore the better question interface
that existed before V4 updates. The old two-column layout was much better
than the current card-based layout.

OBJECTIVES:
□ Create story filtering/sorting component:
  - Filter by difficulty (A1, A2, B1, all)
  - Sort by: alphabet, difficulty
  - Mobile: dropdown/select
  - Desktop: button group or tabs
  - All text in Finnish
  
□ Restore old story question UI:
  - Research: git diff to see old layout from main branch
  - Old layout: two-column format (not cards)
  - Old layout had special formatting that was better
  - Restore that layout structure
  - Keep V4 data model, but use old UI layout

AFFECTED FILES:
- svelte/src/routes/tarinat/+page.svelte (story list)
- svelte/src/lib/components/story/StoryReader.svelte (questions)
- New: StoryFilterSort.svelte component

TECHNICAL APPROACH:
1. Git comparison:
   - Check main branch: svelte/src/lib/components/story/
   - Find old StoryQuestion or StoryReader layout
   - Document what made it better (columns, spacing, etc.)
   
2. Create filter/sort component:
   - Use DaisyUI dropdown for mobile
   - Use button group for desktop
   - Emit events to parent for filtering
   
3. Restore question layout:
   - Recreate two-column structure
   - Apply old CSS/styling
   - Test on mobile


================================================================================
TASK 23: DaisyUI Theme Usage Analysis and Fix
================================================================================

DESCRIPTION:
Review and analyze the current DaisyUI theme implementation. Many users report
that most themes appear to have dark backgrounds when they shouldn't. Analyze
the theme configuration, usage patterns, and identify why this is happening.
Document findings and create fix subtasks based on the analysis.

OBJECTIVES:
□ Review DaisyUI theme configuration and available themes
□ Analyze theme.ts store implementation
□ Check how themes are applied in +layout.svelte
□ Examine bg-base-200, bg-base-100 usage across components
□ Test all 14 available themes (light, cupcake, bumblebee, emerald, etc.)
□ Document why most themes show dark backgrounds
□ Identify incorrect theme usage patterns
□ Write findings to reports/task-23-theme-usage-report.md

AFFECTED FILES:
- svelte/src/lib/stores/theme.ts (theme store)
- svelte/src/routes/+layout.svelte (theme application)
- svelte/src/routes/asetukset/+page.svelte (theme settings)
- All components using bg-base-* classes
- DaisyUI configuration (if exists)

ANALYSIS AREAS:
1. Theme Store Configuration:
   - Check available themes list
   - Verify default theme
   - Review localStorage persistence
   
2. Theme Application:
   - How data-theme attribute is set
   - Check if themes are properly loaded
   - Verify DaisyUI is correctly configured
   
3. Component Patterns:
   - Usage of bg-base-200 (background)
   - Usage of bg-base-100 (cards/surfaces)
   - Usage of text-base-content
   - Check for hardcoded colors
   
4. Testing Matrix:
   - Test each theme visually
   - Document which themes work correctly
   - Identify themes with dark background issues

DELIVERABLES:
□ reports/task-23-theme-usage-report.md with:
  - Current theme implementation analysis
  - List of themes and their actual appearance
  - Root cause of dark background issue
  - Recommendations for fixes
□ Subtasks added to TODO.txt based on findings
□ Priority level for fixes (if critical)

ESTIMATED TIME: 2-3 hours for analysis, variable for fixes